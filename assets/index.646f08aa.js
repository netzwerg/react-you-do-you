var $=Object.defineProperty,x=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var f=(e,t,s)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,l=(e,t)=>{for(var s in t||(t={}))I.call(t,s)&&f(e,s,t[s]);if(C)for(var s of C(t))F.call(t,s)&&f(e,s,t[s]);return e},d=(e,t)=>x(e,D(t));import{c as y,d as m,j as c,a as o,b as R,S as B,e as j,C as L,f as P,T as k,I as T,g as _,r as p,h as O,i as S,B as v,k as H,l as G,m as q,n as K,o as Y,p as U,q as z,u as J,s as Q,t as b,A as V,v as W,w as X,x as Z,R as ee,P as te}from"./vendor.bd9c663d.js";const se=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(a){if(a.ep)return;a.ep=!0;const n=s(a);fetch(a.href,n)}};se();const w=y({name:"theme",initialState:"light",reducers:{toggleTheme:e=>e==="light"?"dark":"light"}}),oe=w.reducer,{toggleTheme:ae}=w.actions,re=m({root:{display:"grid",gridTemplateColumns:"auto auto auto",justifyContent:"start",alignItems:"center"},icon:{margin:4}}),ne=({theme:e,onToggleTheme:t})=>{const s=re(e);return c("div",{className:s.root,children:[o(R,{className:s.icon}),o(B,{checked:e==="dark",onChange:t,color:"default"}),o(j,{className:s.icon})]})},ce={messages:[{timestamp:1568011059155,text:"This pretends to be a chat, but is just a list of one line messages \u{1F937}\u{1F3FC}\u200D\u2640\uFE0F"},{timestamp:1568011059165,text:"Hey there!"}],errors:[]},A=y({name:"chat",initialState:ce,reducers:{addChatMessage:(e,t)=>{var s;return d(l({},e),{messages:e.messages.concat({text:t.payload.text,timestamp:(s=t.payload.timestamp)!=null?s:Date.now()})})},deleteChatMessage:(e,t)=>d(l({},e),{messages:e.messages.filter(s=>s.timestamp!==t.payload)}),addChatError:(e,t)=>d(l({},e),{errors:e.errors.concat({error:t.payload})}),dismissChatErrors:e=>d(l({},e),{errors:[]})}}),{addChatMessage:E,deleteChatMessage:ie,addChatError:N,dismissChatErrors:le}=A.actions,de=A.reducer,me=e=>async t=>fetch(e).then(s=>{if(s.ok)return s.text();throw new Error("Network response not ok.")}).then(s=>t(E({text:s}))).catch(s=>t(N(s.message))),ue=m(e=>({messageCard:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},messageCardContent:{display:"grid",gridTemplateColumns:"1fr auto","&:last-child":{paddingBottom:e.spacing(2)}}})),he=({messages:e,onDeleteMessage:t})=>{const s=ue(),r=a=>()=>t(a);return o("div",{children:e.map(a=>o(L,{className:s.messageCard,children:c(P,{className:s.messageCardContent,children:[o(k,{children:a.text}),o(T,{"aria-label":"delete",onClick:r(a.timestamp),children:o(_,{})})]})},a.timestamp))})},ge=()=>{const e=h(r=>[...r.chat.messages].sort((a,n)=>n.timestamp-a.timestamp)),t=u();return o(he,{messages:e,onDeleteMessage:r=>t(ie(r))})},pe=m(e=>({root:{display:"grid",gridTemplateColumns:"50% auto",gridColumnGap:e.spacing(1),alignItems:"center"},buttons:{display:"grid",gridTemplateColumns:"auto auto",gridColumnGap:e.spacing(1),justifyContent:"right",alignItems:"center"},icon:{marginLeft:e.spacing(1)}})),Ce=({onAddMessage:e,onFetchAsyncMessage:t,onDemoError:s})=>{const r=pe(),[a,n]=p.exports.useState(""),i=g=>n(g.target.value),M=g=>{g.key==="Enter"&&a.trim().length!==0&&(e(a),n(""))};return c("div",{className:r.root,children:[o(O,{value:a,label:"Compose Message",variant:"outlined",onChange:i,onKeyPress:M}),c("div",{className:r.buttons,children:[o(S,{title:"Fetch Async Message",children:c(v,{color:"primary",variant:"outlined",onClick:t,children:["Async",o(H,{className:r.icon})]})}),o(S,{title:"Demo Error Handling",children:c(v,{color:"secondary",variant:"outlined",onClick:s,children:["Error",o(G,{className:r.icon})]})})]})]})},fe="message.txt",ye="A demo error",ke=()=>{const e=u();return o(Ce,{onAddMessage:a=>e(E({text:a})),onFetchAsyncMessage:()=>e(me(fe)),onDemoError:()=>e(N(ye))})},Te=m(e=>({snackbarContent:{color:e.palette.common.white,backgroundColor:e.palette.error.dark},closeIcon:{color:e.palette.common.white}})),Se=({errors:e,onDismissErrors:t})=>{const s=Te(),[r,a]=p.exports.useState(!1);return p.exports.useEffect(()=>a(e.length>0),[e.length]),o(q,{open:r,ClickAwayListenerProps:{onClickAway:()=>null},children:o(K,{className:s.snackbarContent,message:`${e.length} error(s) \u2013 check Console...`,action:[o(T,{className:s.closeIcon,"aria-label":"close",onClick:t,children:o(Y,{})},"close")]})})},ve=()=>{const e=h(r=>r.chat.errors),t=u();return o(Se,{errors:e,onDismissErrors:()=>t(le())})},be=U({theme:oe,chat:de}),we=()=>z({reducer:be}),Ae=we(),u=()=>Q(),h=e=>J(e),Ee=()=>{const e=h(r=>r.theme),t=u();return o(ne,{theme:e,onToggleTheme:()=>t(ae())})},Ne=b({palette:{type:"light"}}),Me=b({palette:{type:"dark"}}),$e=m({toolbar:{display:"grid",gridTemplateColumns:"auto auto",justifyItems:"end"},main:{display:"grid",height:"100vh",width:"100vw",gridTemplateRows:"auto 1fr",gridRowGap:8,paddingTop:100,paddingLeft:"20vw",paddingRight:"20vw"}}),xe=()=>{const e=$e();return c("div",{className:"App",children:[o(V,{children:c(W,{className:e.toolbar,children:[o(k,{children:"React You Do You \u2013 v2.0.0"}),o(Ee,{})]})}),c("div",{className:e.main,children:[o(ke,{}),o(ge,{})]}),o(ve,{})]})},De=()=>{const e=h(t=>t.theme==="dark"?Me:Ne);return c(X,{theme:e,children:[o(Z,{}),o(xe,{})]})},Ie=()=>o(te,{store:Ae,children:o(De,{})});ee.render(o(Ie,{}),document.getElementById("root"));
