var M=Object.defineProperty,b=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var C=(e,t,s)=>t in e?M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,l=(e,t)=>{for(var s in t||(t={}))F.call(t,s)&&C(e,s,t[s]);if(f)for(var s of f(t))$.call(t,s)&&C(e,s,t[s]);return e},d=(e,t)=>b(e,D(t));import{c as y,j as c,B as h,a as r,d as B,S as I,b as R,C as j,e as L,T as x,I as T,f as P,r as p,g as O,h as k,i as w,k as _,l as H,m as N,n as G,o as K,p as q,q as z,u as Y,s as U,t as J,F as Q,A as V,v as W,w as X,x as Z,y as ee,R as te,P as se}from"./vendor.e7c01f6a.js";const re=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}};re();const S=y({name:"theme",initialState:"light",reducers:{toggleTheme:e=>e==="light"?"dark":"light"}}),oe=S.reducer,{toggleTheme:ne}=S.actions,ae=({theme:e,onToggleTheme:t})=>c(h,{sx:{display:"grid",gridTemplateColumns:"auto auto auto",justifyContent:"start",alignItems:"center"},children:[r(B,{}),r(I,{checked:e==="dark",onChange:t,color:"default"}),r(R,{})]}),ce={messages:[{timestamp:1568011059155,text:"This pretends to be a chat, but is just a list of one line messages \u{1F937}\u{1F3FC}\u200D\u2640\uFE0F"},{timestamp:1568011059165,text:"Hey there!"}],errors:[]},v=y({name:"chat",initialState:ce,reducers:{addChatMessage:(e,t)=>{var s;return d(l({},e),{messages:e.messages.concat({text:t.payload.text,timestamp:(s=t.payload.timestamp)!=null?s:Date.now()})})},deleteChatMessage:(e,t)=>d(l({},e),{messages:e.messages.filter(s=>s.timestamp!==t.payload)}),addChatError:(e,t)=>d(l({},e),{errors:e.errors.concat({error:t.payload})}),dismissChatErrors:e=>d(l({},e),{errors:[]})}}),{addChatMessage:E,deleteChatMessage:ie,addChatError:A,dismissChatErrors:le}=v.actions,de=v.reducer,ue=e=>async t=>fetch(e).then(s=>{if(s.ok)return s.text();throw new Error("Network response not ok.")}).then(s=>t(E({text:s}))).catch(s=>t(A(s.message))),he=({messages:e,onDeleteMessage:t})=>{const s=n=>()=>t(n);return r("div",{children:e.map(n=>r(j,{sx:o=>({marginTop:o.spacing(1),marginBottom:o.spacing(1)}),children:c(L,{sx:o=>({display:"grid",gridTemplateColumns:"1fr auto","&:last-child":{paddingBottom:o.spacing(2)}}),children:[r(x,{children:n.text}),r(T,{"aria-label":"delete",onClick:s(n.timestamp),size:"large",children:r(P,{})})]})},n.timestamp))})},me=()=>{const e=g(n=>[...n.chat.messages].sort((o,a)=>a.timestamp-o.timestamp)),t=m();return r(he,{messages:e,onDeleteMessage:n=>t(ie(n))})},ge=({onAddMessage:e,onFetchAsyncMessage:t,onDemoError:s})=>{const[n,o]=p.exports.useState("");return c(h,{sx:i=>({display:"grid",gridTemplateColumns:"50% auto",gridColumnGap:i.spacing(1),alignItems:"center"}),children:[r(O,{value:n,label:"Compose Message",onChange:i=>o(i.target.value),onKeyPress:i=>{i.key==="Enter"&&n.trim().length!==0&&(e(n),o(""))}}),c(h,{sx:{display:"grid",gridTemplateColumns:"auto auto",gridColumnGap:1,justifyContent:"right",alignItems:"center"},children:[r(k,{title:"Fetch Async Message",children:c(w,{color:"primary",variant:"outlined",onClick:t,children:["Async",r(_,{sx:{marginLeft:1}})]})}),r(k,{title:"Demo Error Handling",children:c(w,{color:"secondary",variant:"outlined",onClick:s,children:["Error",r(H,{sx:{marginLeft:1}})]})})]})]})},pe="message.txt",fe="A demo error",Ce=()=>{const e=m();return r(ge,{onAddMessage:o=>e(E({text:o})),onFetchAsyncMessage:()=>e(ue(pe)),onDemoError:()=>e(A(fe))})},ye=({errors:e,onDismissErrors:t})=>{const[s,n]=p.exports.useState(!1);return p.exports.useEffect(()=>n(e.length>0),[e.length]),r(N,{open:s,ClickAwayListenerProps:{onClickAway:()=>null},children:r(G,{sx:a=>({color:a.palette.common.white,backgroundColor:a.palette.error.dark}),message:`${e.length} error(s) \u2013 check Console...`,action:[r(T,{sx:a=>({color:a.palette.common.white}),"aria-label":"close",onClick:t,size:"large",children:r(K,{})},"close")]})})},xe=()=>{const e=g(n=>n.chat.errors),t=m();return r(ye,{errors:e,onDismissErrors:()=>t(le())})},Te=q({theme:oe,chat:de}),ke=()=>z({reducer:Te}),we=ke(),m=()=>U(),g=e=>Y(e),Se=()=>{const e=g(n=>n.theme),t=m();return r(ae,{theme:e,onToggleTheme:()=>t(ne())})},ve=()=>g(e=>J({palette:{mode:e.theme}})),Ee=()=>c(Q,{children:[r(V,{children:c(W,{sx:{display:"grid",gridTemplateColumns:"auto auto",justifyItems:"end"},variant:"dense",children:[r(x,{children:"React You Do You \u2013 v2.0.0"}),r(Se,{})]})}),c(h,{sx:{display:"grid",height:"100vh",width:"100vw",gridTemplateRows:"auto 1fr",gridRowGap:8,paddingTop:10,paddingLeft:"20vw",paddingRight:"20vw"},children:[r(Ce,{}),r(me,{})]}),r(xe,{})]}),Ae=()=>{const e=ve();return r(X,{injectFirst:!0,children:c(Z,{theme:e,children:[r(ee,{}),r(Ee,{})]})})},Me=()=>r(se,{store:we,children:r(Ae,{})});te.render(r(Me,{}),document.getElementById("root"));
