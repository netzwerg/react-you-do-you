var D=Object.defineProperty,$=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var b=(e,t,s)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,l=(e,t)=>{for(var s in t||(t={}))L.call(t,s)&&b(e,s,t[s]);if(y)for(var s of y(t))R.call(t,s)&&b(e,s,t[s]);return e},d=(e,t)=>$(e,x(t));import{t as F,u as I,j as c,a,d as z,S as j,b as B,c as k,e as H,f as O,g as P,h as _,i as G,r as f,T as W,k as S,B as w,H as T,l as m,m as q,n as K,C as Y,o as U,I as v,p as J,q as Q,s as V,v as X,F as Z,A as ee,w as te,x as se,y as ae,z as oe,D as ne,E as re,R as ce,P as ie}from"./vendor.b45f0615.js";const le=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}};le();const{makeStyles:u}=F.createMakeAndWithStyles({useTheme:I}),de=u()({root:{display:"grid",gridTemplateColumns:"auto auto auto",justifyContent:"start",alignItems:"center"},icon:{margin:4}}),ue=({theme:e,onToggleTheme:t})=>{const{classes:s}=de();return c("div",{className:s.root,children:[a(z,{className:s.icon}),a(j,{checked:e==="dark",onChange:t,color:"default"}),a(B,{className:s.icon})]})},N=k({name:"theme",initialState:"dark",reducers:{toggleTheme:e=>e==="light"?"dark":"light"}}),me=N.reducer,{toggleTheme:pe}=N.actions,ge={messages:[{timestamp:1568011059155,text:"This pretends to be a chat, but is just a list of one line messages \u{1F937}\u{1F3FC}\u200D\u2640\uFE0F"},{timestamp:1568011059165,text:"Hey there!"}],errors:[]},M=k({name:"chat",initialState:ge,reducers:{addChatMessage:(e,t)=>{var s;return d(l({},e),{messages:e.messages.concat({text:t.payload.text,timestamp:(s=t.payload.timestamp)!=null?s:Date.now()})})},deleteChatMessage:(e,t)=>d(l({},e),{messages:e.messages.filter(s=>s.timestamp!==t.payload)}),addChatError:(e,t)=>d(l({},e),{errors:e.errors.concat({error:t.payload})}),dismissChatErrors:e=>d(l({},e),{errors:[]})}}),{addChatMessage:A,deleteChatMessage:he,addChatError:C,dismissChatErrors:fe}=M.actions,Ce=M.reducer,ye=H("chat/fetchChatMessage",async(e,t)=>{try{const s=await fetch(e);if(s.ok){const n=await s.text();t.dispatch(A({text:n}))}else t.dispatch(C("Network response not ok."))}catch(s){t.dispatch(C(s.message))}}),be=O({theme:me,chat:Ce}),ke=()=>P({reducer:be}),Se=ke(),p=()=>G(),g=e=>_(e),we=()=>{const e=g(n=>n.theme),t=p();return a(ue,{theme:e,onToggleTheme:()=>t(pe())})},Te=u()(e=>({root:{display:"grid",gridTemplateColumns:"50% auto",gridColumnGap:e.spacing(1),alignItems:"center"},buttons:{display:"grid",gridTemplateColumns:"auto auto",gridColumnGap:e.spacing(1),[e.breakpoints.down("sm")]:{gridColumnGap:e.spacing(.5)},justifyContent:"right",alignItems:"center"},button:{alignItems:"center",justifyContent:"center",[e.breakpoints.down("sm")]:{paddingLeft:0,paddingRight:0}},buttonLabel:{[e.breakpoints.down("sm")]:{fontSize:e.typography.caption.fontSize}},icon:{marginLeft:e.spacing(1),[e.breakpoints.down("sm")]:{marginLeft:0,marginRight:0}}})),ve=({onAddMessage:e,onFetchAsyncMessage:t,onDemoError:s})=>{const{classes:n}=Te(),[o,r]=f.exports.useState(""),i=h=>r(h.target.value),E=h=>{h.key==="Enter"&&o.trim().length!==0&&(e(o),r(""))};return c("div",{className:n.root,children:[a(W,{value:o,label:"Compose Message",size:"small",onChange:i,onKeyPress:E}),c("div",{className:n.buttons,children:[a(S,{title:"Fetch Async Message",children:c(w,{className:n.button,color:"primary",variant:"outlined",fullWidth:!0,size:"large",onClick:t,children:[a(T,{smDown:!0,children:a(m,{className:n.buttonLabel,children:"Async"})}),a(q,{className:n.icon})]})}),a(S,{title:"Demo Error Handling",children:c(w,{className:n.button,color:"secondary",variant:"outlined",fullWidth:!0,size:"large",onClick:s,children:[a(T,{smDown:!0,children:a(m,{className:n.buttonLabel,children:"Error"})}),a(K,{className:n.icon})]})})]})]})},Ne="message.txt",Me="A demo error",Ae=()=>{const e=p();return a(ve,{onAddMessage:o=>e(A({text:o})),onFetchAsyncMessage:()=>e(ye(Ne)),onDemoError:()=>e(C(Me))})},Ee=u()(e=>({messageCard:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},messageCardContent:{display:"grid",gridTemplateColumns:"1fr auto","&:last-child":{paddingBottom:e.spacing(2)}}})),De=({messages:e,onDeleteMessage:t})=>{const{classes:s}=Ee(),n=o=>()=>t(o);return a("div",{children:e.map(o=>a(Y,{className:s.messageCard,children:c(U,{className:s.messageCardContent,children:[a(m,{children:o.text}),a(v,{"aria-label":"delete",onClick:n(o.timestamp),size:"large",children:a(J,{})})]})},o.timestamp))})},$e=()=>{const e=g(n=>[...n.chat.messages].sort((o,r)=>r.timestamp-o.timestamp)),t=p();return a(De,{messages:e,onDeleteMessage:n=>t(he(n))})},xe=u()(e=>({snackbarContent:{color:e.palette.common.white,backgroundColor:e.palette.error.dark},closeIcon:{color:e.palette.common.white}})),Le=({errors:e,onDismissErrors:t})=>{const{classes:s}=xe(),[n,o]=f.exports.useState(!1);return f.exports.useEffect(()=>o(e.length>0),[e.length]),a(Q,{open:n,ClickAwayListenerProps:{onClickAway:()=>null},children:a(V,{className:s.snackbarContent,message:`${e.length} error(s) \u2013 check Console...`,action:[a(v,{className:s.closeIcon,"aria-label":"close",onClick:t,size:"large",children:a(X,{})},"close")]})})},Re=()=>{const e=g(n=>n.chat.errors),t=p();return a(Le,{errors:e,onDismissErrors:()=>t(fe())})},Fe=u()(e=>({toolbar:{display:"grid",gridTemplateColumns:"auto auto",justifyItems:"end",[e.breakpoints.down("md")]:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)}},title:{[e.breakpoints.down("md")]:{fontSize:e.typography.caption.fontSize}},main:{display:"grid",height:"100vh",width:"100vw",gridTemplateRows:"auto 1fr",gridRowGap:8,paddingTop:100,paddingLeft:"20vw",paddingRight:"20vw",[e.breakpoints.down("md")]:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)}}})),Ie=()=>{const{classes:e}=Fe();return c(Z,{children:[a(ee,{children:c(te,{className:e.toolbar,children:[a(m,{className:e.title,noWrap:!0,children:"React You Do You \u2013 v2.1.0"}),a(we,{})]})}),c("div",{className:e.main,children:[a(Ae,{}),a($e,{})]}),a(Re,{})]})},ze=()=>g(e=>se({palette:{mode:e.theme}})),je=ae({key:"mui",prepend:!0}),Be=()=>{const e=ze();return a(oe,{value:je,children:c(ne,{theme:e,children:[a(re,{}),a(Ie,{})]})})},He=()=>a(ie,{store:Se,children:a(Be,{})});ce.render(a(He,{}),document.getElementById("root"));
