var N=Object.defineProperty,$=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var y=(e,t,s)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,l=(e,t)=>{for(var s in t||(t={}))x.call(t,s)&&y(e,s,t[s]);if(C)for(var s of C(t))I.call(t,s)&&y(e,s,t[s]);return e},d=(e,t)=>$(e,D(t));import{c as f,t as R,u as F,j as c,a,d as B,S as j,b as L,C as P,e as O,T as k,I as S,f as _,r as p,g as H,h as T,B as v,i as z,k as G,l as q,m as K,n as Y,o as U,p as W,q as J,s as Q,v as V,A as X,w as Z,x as ee,y as te,z as se,D as ae,R as oe,P as re}from"./vendor.4ba03baa.js";const ne=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}};ne();const b=f({name:"theme",initialState:"dark",reducers:{toggleTheme:e=>e==="light"?"dark":"light"}}),ce=b.reducer,{toggleTheme:ie}=b.actions,{makeStyles:m,withStyles:Oe}=R.createMakeAndWithStyles({useTheme:F}),le=m()({root:{display:"grid",gridTemplateColumns:"auto auto auto",justifyContent:"start",alignItems:"center"},icon:{margin:4}}),de=({theme:e,onToggleTheme:t})=>{const{classes:s}=le();return c("div",{className:s.root,children:[a(B,{className:s.icon}),a(j,{checked:e==="dark",onChange:t,color:"default"}),a(L,{className:s.icon})]})},me={messages:[{timestamp:1568011059155,text:"This pretends to be a chat, but is just a list of one line messages \u{1F937}\u{1F3FC}\u200D\u2640\uFE0F"},{timestamp:1568011059165,text:"Hey there!"}],errors:[]},w=f({name:"chat",initialState:me,reducers:{addChatMessage:(e,t)=>{var s;return d(l({},e),{messages:e.messages.concat({text:t.payload.text,timestamp:(s=t.payload.timestamp)!=null?s:Date.now()})})},deleteChatMessage:(e,t)=>d(l({},e),{messages:e.messages.filter(s=>s.timestamp!==t.payload)}),addChatError:(e,t)=>d(l({},e),{errors:e.errors.concat({error:t.payload})}),dismissChatErrors:e=>d(l({},e),{errors:[]})}}),{addChatMessage:A,deleteChatMessage:ue,addChatError:E,dismissChatErrors:he}=w.actions,ge=w.reducer,pe=e=>async t=>fetch(e).then(s=>{if(s.ok)return s.text();throw new Error("Network response not ok.")}).then(s=>t(A({text:s}))).catch(s=>t(E(s.message))),Ce=m()(e=>({messageCard:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},messageCardContent:{display:"grid",gridTemplateColumns:"1fr auto","&:last-child":{paddingBottom:e.spacing(2)}}})),ye=({messages:e,onDeleteMessage:t})=>{const{classes:s}=Ce(),r=o=>()=>t(o);return a("div",{children:e.map(o=>a(P,{className:s.messageCard,children:c(O,{className:s.messageCardContent,children:[a(k,{children:o.text}),a(S,{"aria-label":"delete",onClick:r(o.timestamp),size:"large",children:a(_,{})})]})},o.timestamp))})},fe=()=>{const e=h(r=>[...r.chat.messages].sort((o,n)=>n.timestamp-o.timestamp)),t=u();return a(ye,{messages:e,onDeleteMessage:r=>t(ue(r))})},ke=m()(e=>({root:{display:"grid",gridTemplateColumns:"50% auto",gridColumnGap:e.spacing(1),alignItems:"center"},buttons:{display:"grid",gridTemplateColumns:"auto auto",gridColumnGap:e.spacing(1),justifyContent:"right",alignItems:"center"},icon:{marginLeft:e.spacing(1)}})),Se=({onAddMessage:e,onFetchAsyncMessage:t,onDemoError:s})=>{const{classes:r}=ke(),[o,n]=p.exports.useState(""),i=g=>n(g.target.value),M=g=>{g.key==="Enter"&&o.trim().length!==0&&(e(o),n(""))};return c("div",{className:r.root,children:[a(H,{value:o,label:"Compose Message",onChange:i,onKeyPress:M}),c("div",{className:r.buttons,children:[a(T,{title:"Fetch Async Message",children:c(v,{color:"primary",variant:"outlined",onClick:t,children:["Async",a(z,{className:r.icon})]})}),a(T,{title:"Demo Error Handling",children:c(v,{color:"secondary",variant:"outlined",onClick:s,children:["Error",a(G,{className:r.icon})]})})]})]})},Te="message.txt",ve="A demo error",be=()=>{const e=u();return a(Se,{onAddMessage:o=>e(A({text:o})),onFetchAsyncMessage:()=>e(pe(Te)),onDemoError:()=>e(E(ve))})},we=m()(e=>({snackbarContent:{color:e.palette.common.white,backgroundColor:e.palette.error.dark},closeIcon:{color:e.palette.common.white}})),Ae=({errors:e,onDismissErrors:t})=>{const{classes:s}=we(),[r,o]=p.exports.useState(!1);return p.exports.useEffect(()=>o(e.length>0),[e.length]),a(q,{open:r,ClickAwayListenerProps:{onClickAway:()=>null},children:a(K,{className:s.snackbarContent,message:`${e.length} error(s) \u2013 check Console...`,action:[a(S,{className:s.closeIcon,"aria-label":"close",onClick:t,size:"large",children:a(Y,{})},"close")]})})},Ee=()=>{const e=h(r=>r.chat.errors),t=u();return a(Ae,{errors:e,onDismissErrors:()=>t(he())})},Me=U({theme:ce,chat:ge}),Ne=()=>W({reducer:Me}),$e=Ne(),u=()=>Q(),h=e=>J(e),De=()=>{const e=h(r=>r.theme),t=u();return a(de,{theme:e,onToggleTheme:()=>t(ie())})},xe=()=>h(e=>V({palette:{mode:e.theme}})),Ie=m()({toolbar:{display:"grid",gridTemplateColumns:"auto auto",justifyItems:"end"},main:{display:"grid",height:"100vh",width:"100vw",gridTemplateRows:"auto 1fr",gridRowGap:8,paddingTop:100,paddingLeft:"20vw",paddingRight:"20vw"}}),Re=()=>{const{classes:e}=Ie();return c("div",{className:"App",children:[a(X,{children:c(Z,{className:e.toolbar,children:[a(k,{children:"React You Do You \u2013 v2.0.0"}),a(De,{})]})}),c("div",{className:e.main,children:[a(be,{}),a(fe,{})]}),a(Ee,{})]})},Fe=ee({key:"mui",prepend:!0}),Be=()=>{const e=xe();return a(te,{value:Fe,children:c(se,{theme:e,children:[a(ae,{}),a(Re,{})]})})},je=()=>a(re,{store:$e,children:a(Be,{})});oe.render(a(je,{}),document.getElementById("root"));
